# 8. –ö–Ω–æ–ø–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (UI)

## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ —Ä–æ—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ MVP
- –ö–Ω–æ–ø–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ 33.3%
- –§–æ—Ä–º–∞—Ç: `[üö´ –ò—Å–∫–ª—é—á–∏—Ç—å "–ù–∞–∑–≤–∞–Ω–∏–µ_–≥–∞–ª–µ—Ä–µ–∏"]`
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –≥–∞–ª–µ—Ä–µ—è –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ —Ä–æ—Ç–∞—Ü–∏–∏

## –ó–∞–¥–∞—á–∏

### 8.1. –ú–µ—Ç–æ–¥ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏
**–§–∞–π–ª:** `bot/database.py`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:
- `exclude_gallery(gallery_id)` - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ —Ä–æ—Ç–∞—Ü–∏–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `excluded = TRUE`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `excluded_at = CURRENT_TIMESTAMP`
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –≤–µ—Å (–¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)

### 8.2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback –∏—Å–∫–ª—é—á–µ–Ω–∏—è
**–§–∞–π–ª:** `bot/telegram_handler.py`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:
- `handle_exclude_gallery_callback(update, context)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ü–∞—Ä—Å–∏—Ç—å `exclude_gallery_{gallery_id}` –∏–∑ callback_data
- –í—ã–∑–≤–∞—Ç—å `database.exclude_gallery(gallery_id)`
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à –≤–µ—Å–æ–≤

### 8.3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
**–§–∞–π–ª:** `bot/telegram_handler.py`

–í `setup_handlers()`:
- –î–æ–±–∞–≤–∏—Ç—å `CallbackQueryHandler` –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ `^exclude_gallery_`

### 8.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ—Å–ª–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
**–§–∞–π–ª:** `bot/telegram_handler.py`

–í `handle_exclude_gallery_callback()`:
- –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å (—É–±—Ä–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ—Ä–æ–≥–µ)
- –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

### 8.5. –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
**–§–∞–π–ª:** `bot/telegram_handler.py`

–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:
```
‚úÖ –ì–∞–ª–µ—Ä–µ—è "–ù–∞–∑–≤–∞–Ω–∏–µ_–≥–∞–ª–µ—Ä–µ–∏" –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ —Ä–æ—Ç–∞—Ü–∏–∏!

‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: 12/20 (-60%)
‚Ä¢ –í–µ—Å: 0.001
‚Ä¢ –ò—Å–∫–ª—é—á–µ–Ω–∞: 2024-01-15

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /excluded –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π.
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –≤—ã–±–æ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–¥–∞—á–∞ 1: –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–æ–≤ –≥–∞–ª–µ—Ä–µ–π (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å excluded —Ñ–ª–∞–≥–æ–º)
- –ó–∞–¥–∞—á–∞ 7: –ü–æ—Ä–æ–≥–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–µ–ª–∏–∑–∞

### ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–ª–∏–∑–∏—Ç—å –ø–æ—Å–ª–µ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏

**–£—Å–ª–æ–≤–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞:**
1. –ö–Ω–æ–ø–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Ä–æ–≥ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç (–∑–∞–¥–∞—á–∞ 7)
2. –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ 7 –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ –Ω–µ —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –ø–æ–º–µ—á–∞–µ—Ç —Ñ–ª–∞–≥–æ–º
4. –ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤—ã–±–æ—Ä–µ (–∑–∞–¥–∞—á–∞ 3)

**Fallback-–º–µ—Ö–∞–Ω–∏–∑–º—ã:**
- –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ 7 –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –ø–æ—Ä–æ–≥ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ ‚Üí –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º:**
- [ ] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/random` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–Ω–æ–ø–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
- [ ] –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤—ã–±–æ—Ä–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏)
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–ß—Ç–æ –ù–ï —Å–ª–æ–º–∞–µ—Ç—Å—è:**
- –í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è)
- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ó–∞–¥–∞—á–∞ 9: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞
- –ó–∞–¥–∞—á–∞ 11: –ö–æ–º–∞–Ω–¥–∞ /restore
