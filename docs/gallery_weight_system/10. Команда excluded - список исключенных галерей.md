# 10. –ö–æ–º–∞–Ω–¥–∞ /excluded - —Å–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã `/excluded` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ MVP
–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
```
üóëÔ∏è –ò–°–ö–õ–Æ–ß–ï–ù–ù–´–ï –ì–ê–õ–ï–†–ï–ò (3):

"–ì–æ—Ä—ã_2023" [ID: G123]
‚Ä¢ –ò—Å–∫–ª—é—á–µ–Ω–∞: 2024-01-15
‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 12/20 (-60%)
‚Ä¢ –í–µ—Å: 0.001
[üîô –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å G123]

"–†–µ–∫–∏_2022" [ID: G124]
‚Ä¢ –ò—Å–∫–ª—é—á–µ–Ω–∞: 2024-01-10
‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 8/15 (-53%)
‚Ä¢ –í–µ—Å: 0.001
[üîô –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å G124]
```

## –ó–∞–¥–∞—á–∏

### 10.1. –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π
**–§–∞–π–ª:** `bot/database.py`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:
- `get_excluded_galleries()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π: id, title, excluded_at, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≤–µ—Å
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)

### 10.2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã
**–§–∞–π–ª:** `bot/telegram_handler.py`

–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:
- `excluded_command(update, context)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/excluded`
- –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π
- –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ MVP
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –≥–∞–ª–µ—Ä–µ–∏

### 10.3. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞
**–§–∞–π–ª:** `bot/telegram_handler.py`

–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:
- `format_excluded_galleries_list(galleries)` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏–∑ MVP
- –î–ª—è –∫–∞–∂–¥–æ–π –≥–∞–ª–µ—Ä–µ–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, ID, –¥–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≤–µ—Å
- –ö–Ω–æ–ø–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: `[üîô –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å {gallery_id}]`

### 10.4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
**–§–∞–π–ª:** `bot/telegram_handler.py`

–í `setup_handlers()`:
- –î–æ–±–∞–≤–∏—Ç—å `CommandHandler("excluded", self.excluded_command)`

### 10.5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥
**–§–∞–π–ª:** `bot/telegram_handler.py`

–í `setup_bot_menu()`:
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/excluded` –≤ –º–µ–Ω—é –±–æ—Ç–∞

### 10.6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞
**–§–∞–π–ª:** `bot/telegram_handler.py`

–ï—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π –Ω–µ—Ç:
```
‚úÖ –ù–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π.

–í—Å–µ –≥–∞–ª–µ—Ä–µ–∏ –∞–∫—Ç–∏–≤–Ω—ã –∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Ä–æ—Ç–∞—Ü–∏–∏.
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–∞—Ç–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≤–µ—Å)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø—É—Å—Ç–æ–º —Å–ø–∏—Å–∫–µ

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–¥–∞—á–∞ 1: –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–æ–≤ –≥–∞–ª–µ—Ä–µ–π (–ø–æ–ª–µ excluded)
- –ó–∞–¥–∞—á–∞ 8: –ö–Ω–æ–ø–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–µ–ª–∏–∑–∞

### ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–ª–∏–∑–∏—Ç—å –ø–æ—Å–ª–µ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏

**–£—Å–ª–æ–≤–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞:**
1. –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ (–∑–∞–¥–∞—á–∞ 8)
2. –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ 8 –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
3. –ö–æ–º–∞–Ω–¥–∞ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Ö

**Fallback-–º–µ—Ö–∞–Ω–∏–∑–º—ã:**
- –ï—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π"
- –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ 8 –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚Üí –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º:**
- [ ] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/excluded` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ï—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–π –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- [ ] –ï—Å–ª–∏ –µ—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏, —Å–ø–∏—Å–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–Ω–æ–ø–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (–µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ 11 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

**–ß—Ç–æ –ù–ï —Å–ª–æ–º–∞–µ—Ç—Å—è:**
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–æ–º–∞–Ω–¥–∞ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ)
- –í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–Ω–µ –≤–ª–∏—è–µ—Ç)
- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–Ω–µ –≤–ª–∏—è–µ—Ç)

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ó–∞–¥–∞—á–∞ 11: –ö–æ–º–∞–Ω–¥–∞ /restore
